<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Site Responsivo com Menu Interativo</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: white;
            min-height: 100vh;
            /* CRUCIAL: Remove qualquer rolagem horizontal acidental */
            overflow-x: hidden; 
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            /* Garante padding de respiro em telas pequenas */
            padding: 0 20px; 
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-right: 10px;
            font-size: 28px;
        }

        .menu-toggle {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            font-size: 24px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .menu-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        .main-content {
            padding: 40px 0;
            text-align: center;
        }

        h1 {
            font-size: 48px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        p {
            font-size: 18px;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto 30px;
        }

        .cta-button {
            display: inline-block;
            background: #ff6b6b;
            color: white;
            padding: 12px 30px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .cta-button:hover {
            background: #ff5252;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        /* Menu Overlay */
        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
            z-index: 1000;
        }

        .menu-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .menu-content {
            background: rgba(30, 30, 46, 0.95);
            border-radius: 20px;
            padding: 40px;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            transform: scale(0.9);
            transition: transform 0.5s ease;
            position: relative;
            /* Permite rolagem no conte√∫do do menu se for muito grande em telas pequenas */
            max-height: 90vh; 
            overflow-y: auto;
        }

        .menu-overlay.active .menu-content {
            transform: scale(1);
        }

        .close-menu {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-menu:hover {
            color: #ff6b6b;
            transform: rotate(90deg);
        }

        .menu-grid {
            display: grid;
            /* Ajuste minmax para empilhar mais cedo */
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .menu-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .menu-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
        }

        .menu-icon {
            font-size: 40px;
            margin-bottom: 15px;
            color: #ff6b6b;
        }

        .menu-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .menu-description {
            font-size: 14px;
            opacity: 0.8;
        }

        /* Widgets */
        .widgets {
            display: grid;
            /* Diminuindo o minmax para caber melhor em 2 colunas */
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 20px;
            margin-top: 40px;
        }

        .widget {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .widget-title {
            font-size: 20px;
            margin-bottom: 15px;
            color: #ffd166;
        }

        .clock {
            font-size: 36px;
            font-weight: bold;
            margin: 10px 0;
        }

        .date {
            font-size: 16px;
            opacity: 0.8;
        }

        .stopwatch {
            font-size: 36px;
            font-weight: bold;
            margin: 15px 0;
        }

        .stopwatch-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
            /* Permite quebra de linha se os bot√µes n√£o couberem */
            flex-wrap: wrap; 
        }

        .stopwatch-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        /* Weather Details com Flexbox para quebra */
        .weather-details {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 10px;
            flex-wrap: wrap; /* Garante que os detalhes quebrem para a linha de baixo se for preciso */
        }

        /* Canvas */
        .canvas-container {
            margin-top: 40px;
            display: flex;
            justify-content: center;
            width: 100%;
            /* Garante que o canvas n√£o cause rolagem */
            overflow: hidden; 
        }

        canvas {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            max-width: 100%; 
            height: auto; 
        }

        /* Media Queries - Dispositivos menores */
        @media (max-width: 768px) {
            h1 {
                font-size: 32px;
            }
            
            p {
                font-size: 16px;
            }

            .widgets {
                 /* Mant√©m a possibilidade de 2 colunas, mas com m√≠nimo bem ajustado */
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            }
            
            .menu-content {
                padding: 30px 20px;
            }
            
            .menu-grid {
                /* Garante que os items do menu j√° se empilhem em 2 colunas em telas menores */
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            }
            
            .clock, .stopwatch, .temperature {
                font-size: 30px;
            }
        }

        /* Media Queries - Celulares (aparelhos muito pequenos) */
        @media (max-width: 480px) {
            h1 {
                font-size: 26px;
            }
            
            .logo {
                font-size: 20px;
            }

            .container {
                padding: 0 10px; /* Mais estreito */
            }

            .menu-toggle {
                width: 45px;
                height: 45px;
                font-size: 20px;
            }

            .menu-content {
                width: 95%; /* Ocupa quase toda a largura */
                padding: 20px;
            }
            
            .menu-grid {
                grid-template-columns: 1fr; /* **EMPILHA** o menu */
            }
            
            .widgets {
                grid-template-columns: 1fr; /* **EMPILHA** os widgets */
            }

            .clock, .stopwatch, .temperature {
                font-size: 24px; 
            }
            
            .stopwatch-btn {
                padding: 8px 10px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i>üåê</i> MeuSite
            </div>
            <button class="menu-toggle" id="menuToggle" aria-label="Abrir Menu">
                <i>‚ò∞</i>
            </button>
        </header>

        <div class="main-content">
            <h1>Bem-vindo ao Nosso Site</h1>
            <p>Explore todas as funcionalidades interativas que preparamos para voc√™.</p>
            <a href="#" class="cta-button">Come√ßar Agora</a>

            <div class="widgets">
                <div class="widget">
                    <div class="widget-title">Rel√≥gio</div>
                    <div class="clock" id="clock">00:00:00</div>
                    <div class="date" id="date">Carregando...</div>
                </div>

                <div class="widget">
                    <div class="widget-title">Cron√¥metro</div>
                    <div class="stopwatch" id="stopwatch">00:00:00.00</div>
                    <div class="stopwatch-controls">
                        <button class="stopwatch-btn" id="startStopwatch">Iniciar</button>
                        <button class="stopwatch-btn" id="pauseStopwatch">Pausar</button>
                        <button class="stopwatch-btn" id="resetStopwatch">Resetar</button>
                    </div>
                </div>

                <div class="widget">
                    <div class="widget-title">Tempo e Temperatura</div>
                    <div class="weather-info">
                        <div class="temperature" id="temperature">--¬∞C</div>
                        <div class="weather-desc" id="weatherDesc">Carregando...</div>
                        <div class="weather-details">
                            <div class="weather-detail">
                                <span>Umidade</span>
                                <span id="humidity">--%</span>
                            </div>
                            <div class="weather-detail">
                                <span>Vento</span>
                                <span id="windSpeed">-- km/h</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="canvas-container">
                <canvas id="myCanvas" width="600" height="300"></canvas> 
            </div>
        </div>
    </div>

    <div class="menu-overlay" id="menuOverlay">
        <div class="menu-content">
            <button class="close-menu" id="closeMenu" aria-label="Fechar Menu">‚úï</button>
            <h2>Menu Principal</h2>
            <p>Navegue pelas op√ß√µes dispon√≠veis</p>

            <div class="menu-grid">
                <div class="menu-item" id="homeItem">
                    <div class="menu-icon">üè†</div>
                    <div class="menu-title">P√°gina Inicial</div>
                    <div class="menu-description">Voltar para a p√°gina principal</div>
                </div>

                <div class="menu-item" id="aboutItem">
                    <div class="menu-icon">‚ÑπÔ∏è</div>
                    <div class="menu-title">Sobre N√≥s</div>
                    <div class="menu-description">Conhe√ßa mais sobre nossa empresa</div>
                </div>

                <div class="menu-item" id="servicesItem">
                    <div class="menu-icon">üîß</div>
                    <div class="menu-title">Servi√ßos</div>
                    <div class="menu-description">Veja nossos servi√ßos dispon√≠veis</div>
                </div>

                <div class="menu-item" id="contactItem">
                    <div class="menu-icon">üìû</div>
                    <div class="menu-title">Contato</div>
                    <div class="menu-description">Entre em contato conosco</div>
                </div>

                <div class="menu-item" id="newsItem">
                    <div class="menu-icon">üì∞</div>
                    <div class="menu-title">Not√≠cias</div>
                    <div class="menu-description">Fique por dentro das novidades</div>
                </div>

                <div class="menu-item" id="externalItem">
                    <div class="menu-icon">üåç</div>
                    <div class="menu-title">Sites Externos</div>
                    <div class="menu-description">Acesse outros sites dentro da nossa p√°gina</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Fun√ß√£o para desenhar no Canvas (agora ainda mais responsivo)
        function drawCanvas() {
            const canvas = document.getElementById('myCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            
            const containerWidth = canvas.closest('.canvas-container').clientWidth;
            
            // Ajustar o width do canvas para o tamanho do container com limite de 600px
            canvas.width = Math.min(600, containerWidth); 
            // Mant√©m a propor√ß√£o 2:1, ajustando a altura tamb√©m
            canvas.height = canvas.width * 0.5; 
            
            // Recalcular posi√ß√µes
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;

            // Desenhar fundo
            ctx.fillStyle = 'rgba(30, 30, 46, 0.7)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Desenhar t√≠tulo
            ctx.fillStyle = 'white';
            ctx.font = '20px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Canvas Interativo', centerX, 40);
            
            // Reduzir espa√ßamento e raio em telas muito pequenas (abaixo de 480px)
            const isSmallScreen = window.innerWidth < 480;
            const radius = isSmallScreen ? 30 : 50;
            const offset = isSmallScreen ? 80 : 100;

            // C√≠rculo Central
            ctx.fillStyle = '#ff6b6b';
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
            ctx.fill();
            
            // C√≠rculo Esquerdo
            ctx.fillStyle = '#4ecdc4';
            ctx.beginPath();
            ctx.arc(centerX - offset, centerY, radius * 0.8, 0, Math.PI * 2);
            ctx.fill();
            
            // C√≠rculo Direito
            ctx.fillStyle = '#ffd166';
            ctx.beginPath();
            ctx.arc(centerX + offset, centerY, radius * 0.8, 0, Math.PI * 2);
            ctx.fill();
            
            // Adicionar interatividade (se ainda n√£o tiver)
            if (!canvas.hasClickListener) {
                canvas.addEventListener('click', function(e) {
                    const rect = canvas.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    const circles = [
                        { x: centerX, y: centerY, radius: radius, color: '#ff6b6b' },
                        { x: centerX - offset, y: centerY, radius: radius * 0.8, color: '#4ecdc4' },
                        { x: centerX + offset, y: centerY, radius: radius * 0.8, color: '#ffd166' }
                    ];
                    
                    for (let circle of circles) {
                        const distance = Math.sqrt((x - circle.x) ** 2 + (y - circle.y) ** 2);
                        if (distance <= circle.radius) {
                            alert(`Voc√™ clicou no c√≠rculo ${circle.color}`);
                            break;
                        }
                    }
                });
                canvas.hasClickListener = true;
            }
        }

        // Fun√ß√µes de Widgets (Rel√≥gio, Cron√¥metro, Tempo) e Menu
        $(document).ready(function() {
            // Inicializa√ß√£o e responsividade do Canvas
            drawCanvas();
            // Redesenha o canvas ao redimensionar a janela
            window.addEventListener('resize', drawCanvas);

            // Menu Toggle
            $('#menuToggle').click(function() {
                $('#menuOverlay').addClass('active');
                // Bloqueia a rolagem do body quando o menu est√° aberto
                $('body').css('overflow-y', 'hidden'); 
            });

            $('#closeMenu, #menuOverlay').click(function(e) {
                // Fecha o menu apenas se clicar no bot√£o de fechar ou no overlay (fundo escuro)
                if (e.target.id === 'closeMenu' || e.target.id === 'menuOverlay') {
                    $('#menuOverlay').removeClass('active');
                    // Restaura a rolagem do body
                    $('body').css('overflow-y', 'auto'); 
                }
            });

            // Navega√ß√£o do menu (simula√ß√£o)
            $('.menu-item').click(function() {
                const title = $(this).find('.menu-title').text();
                if (title !== 'Sites Externos') {
                    alert(`Navegando para ${title}`);
                    $('#menuOverlay').removeClass('active');
                    $('body').css('overflow-y', 'auto'); 
                }
            });
            
            $('#externalItem').click(function() {
                 const externalUrl = prompt('Digite a URL do site externo (ex: https://www.google.com):');
                 if (externalUrl) {
                     window.open(externalUrl, '_blank');
                 }
                 $('#menuOverlay').removeClass('active');
                 $('body').css('overflow-y', 'auto');
            });


            // Rel√≥gio
            function updateClock() {
                const now = new Date();
                const time = now.toLocaleTimeString('pt-BR');
                const date = now.toLocaleDateString('pt-BR', { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                });
                
                $('#clock').text(time);
                $('#date').text(date.charAt(0).toUpperCase() + date.slice(1));
            }

            setInterval(updateClock, 1000);
            updateClock();

            // Cron√¥metro
            let stopwatchInterval;
            let stopwatchRunning = false;
            let stopwatchTime = 0;

            function formatTime(ms) {
                const hours = Math.floor(ms / 3600000);
                const minutes = Math.floor((ms % 3600000) / 60000);
                const seconds = Math.floor((ms % 60000) / 1000);
                const milliseconds = Math.floor((ms % 1000) / 10);
                
                return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}.${milliseconds.toString().padStart(2, '0')}`;
            }

            function updateStopwatch() {
                stopwatchTime += 10;
                $('#stopwatch').text(formatTime(stopwatchTime));
            }

            $('#startStopwatch').click(function() {
                if (!stopwatchRunning) {
                    stopwatchInterval = setInterval(updateStopwatch, 10);
                    stopwatchRunning = true;
                }
            });

            $('#pauseStopwatch').click(function() {
                if (stopwatchRunning) {
                    clearInterval(stopwatchInterval);
                    stopwatchRunning = false;
                }
            });

            $('#resetStopwatch').click(function() {
                clearInterval(stopwatchInterval);
                stopwatchRunning = false;
                stopwatchTime = 0;
                $('#stopwatch').text('00:00:00.00');
            });

            // Simula√ß√£o de dados de temperatura e tempo
            function updateWeather() {
                const temperature = Math.floor(Math.random() * 15) + 15;
                const humidity = Math.floor(Math.random() * 40) + 40;
                const windSpeed = Math.floor(Math.random() * 20) + 5;
                
                const weatherConditions = ['Ensolarado', 'Parcialmente Nublado', 'Nublado', 'Chuvoso'];
                const weatherDesc = weatherConditions[Math.floor(Math.random() * weatherConditions.length)];
                
                $('#temperature').text(`${temperature}¬∞C`);
                $('#weatherDesc').text(weatherDesc);
                $('#humidity').text(`${humidity}%`);
                $('#windSpeed').text(`${windSpeed} km/h`);
            }

            setInterval(updateWeather, 30000);
            updateWeather();
        });
    </script>
</body>
</html>